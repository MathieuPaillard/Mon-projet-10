import"./style-CPu5V9nm.js";const i=document.querySelector("#connexionForm"),e=document.querySelector("#out"),t=document.querySelector("#buttonConnexion");e&&(e.textContent="En attente de saisie...");i?.addEventListener("submit",async s=>{s.preventDefault(),t&&(t.disabled=!0);const a=new FormData(i),r={email:String(a.get("email")??""),password:String(a.get("password")??"")};try{const o=await fetch("/api/connexion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(o.ok){const n=await o.json();e&&(e.textContent=`${n.message}`),n.role=="admin"?setTimeout(()=>{window.location.replace("/admin")},2500):setTimeout(()=>{window.location.replace("/board")},2500)}else{const n=await o.json();e&&(e.textContent=`${n.message}`),t&&(t.disabled=!1)}}catch(o){e&&(e.textContent=`Erreur relev√©e : ${o}`),t&&(t.disabled=!1)}});
